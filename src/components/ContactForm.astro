---
interface Props {
  lang?: string;
}

const { lang = "en" } = Astro.props;

const labels = {
  en: {
    name: "Your Name",
    namePlaceholder: "Enter your name",
    email: "Email Address",
    emailPlaceholder: "you@example.com",
    dates: "Preferred Dates",
    package: "Package",
    packagePlaceholder: "Select a package",
    message: "Your Message",
    messagePlaceholder: "Tell us about your special moment...",
    submit: "Send Message",
    packages: {
      golden: "Golden Hour",
      classic: "Madrid Classic",
      full: "Full Experience",
    },
  },
  ko: {
    name: "이름",
    namePlaceholder: "이름을 입력하세요",
    email: "이메일 주소",
    emailPlaceholder: "you@example.com",
    dates: "희망 날짜",
    package: "패키지",
    packagePlaceholder: "패키지를 선택하세요",
    message: "메시지",
    messagePlaceholder: "특별한 순간에 대해 알려주세요...",
    submit: "메시지 보내기",
    packages: {
      golden: "골든 아워",
      classic: "마드리드 클래식",
      full: "풀 익스피리언스",
    },
  },
};

const text = labels[lang as keyof typeof labels] || labels.en;
---

<form
  action="https://api.web3forms.com/submit"
  method="POST"
  class="space-y-6 max-w-2xl mx-auto"
>
  <!-- Web3Forms Access Key -->
  <input type="hidden" name="access_key" value="53b428e4-1058-4e47-9dce-2afaa619e4b3" />

  <!-- Honeypot Spam Prevention -->
  <input type="checkbox" name="botcheck" class="hidden" style="display: none;" />

  <!-- Redirect URL (optional) -->
  <input type="hidden" name="redirect" value="" />

  <!-- Name Field -->
  <div>
    <label for="name" class="block font-display text-sm font-medium text-gray-700 mb-2">
      {text.name} <span class="text-terracotta">*</span>
    </label>
    <input
      type="text"
      id="name"
      name="name"
      required
      placeholder={text.namePlaceholder}
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-terracotta focus:border-transparent transition-all duration-200 bg-white"
    />
  </div>

  <!-- Email Field -->
  <div>
    <label for="email" class="block font-display text-sm font-medium text-gray-700 mb-2">
      {text.email} <span class="text-terracotta">*</span>
    </label>
    <input
      type="email"
      id="email"
      name="email"
      required
      placeholder={text.emailPlaceholder}
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-terracotta focus:border-transparent transition-all duration-200 bg-white"
    />
  </div>

  <!-- Dates Field -->
  <div>
    <label for="dates" class="block font-display text-sm font-medium text-gray-700 mb-2">
      {text.dates}
    </label>
    <input
      type="date"
      id="dates"
      name="dates"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-terracotta focus:border-transparent transition-all duration-200 bg-white"
    />
  </div>

  <!-- Package Select -->
  <div>
    <label for="package" class="block font-display text-sm font-medium text-gray-700 mb-2">
      {text.package}
    </label>
    <select
      id="package"
      name="package"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-terracotta focus:border-transparent transition-all duration-200 bg-white appearance-none cursor-pointer"
    >
      <option value="" disabled selected>{text.packagePlaceholder}</option>
      <option value="golden-hour">{text.packages.golden}</option>
      <option value="madrid-classic">{text.packages.classic}</option>
      <option value="full-experience">{text.packages.full}</option>
    </select>
  </div>

  <!-- Message Textarea -->
  <div>
    <label for="message" class="block font-display text-sm font-medium text-gray-700 mb-2">
      {text.message} <span class="text-terracotta">*</span>
    </label>
    <textarea
      id="message"
      name="message"
      required
      rows="5"
      placeholder={text.messagePlaceholder}
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-terracotta focus:border-transparent transition-all duration-200 bg-white resize-none"
    ></textarea>
  </div>

  <!-- Submit Button -->
  <div>
    <button
      type="submit"
      class="w-full btn-primary font-display text-lg rounded-full hover:scale-[1.02] transform transition-all duration-200"
    >
      {text.submit}
    </button>
  </div>
</form>

<style>
  /* Custom select arrow */
  select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }
</style>
